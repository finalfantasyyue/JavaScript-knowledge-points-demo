<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>飘雪效果</title>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" type="text/javascript"></script>
	<style>
		body{
			background:#000;
		}
		.flake{
			position: absolute;
			top: -50px;
		}
	</style>
</head>
<body>
	<div class="flake">❉</div>
	<script>
		$(function(){
			/*
			*minSize 最小字体
			*maxSize 最大字体
			*speed 雪花下载间隔
			*defaultOpacity 默认透明度
			*flakeColor 雪花颜色
			*
			*/
			var minSize = 5,
				maxSize = 50,
				speed = 200,
				defaultOpacity = 0.7,
				flakeColor = '#fff',
				flake = $('.flake');
			function flakes(){
				var dwidth = $(document).width(),
					height = $(document).height(),
					flakeLeft = Math.random()*dwidth,
					endFlakeLeft = Math.random()*dwidth,
					flakeOpacity = defaultOpacity+Math.random()*0.3,
					fallDuration = 5000+Math.random()*2000,
					fallHeight = height;

					var $flake = $(flake).clone().css({
						'font-size':minSize+Math.random()*maxSize,
						'color':flakeColor,
						'opacity':flakeOpacity,
						'left':flakeLeft
					}).animate({
						'opacity':0.5,
						'top':fallHeight,
						'left':endFlakeLeft
					},fallDuration,function(){
						eleRemove(this)
					})
					$('body').append($flake);
			}
			function eleRemove(ele){
				$(ele).remove();
			}

			setInterval(function(){
				flakes()
			},speed)
		})
	</script>
</body>
</html>